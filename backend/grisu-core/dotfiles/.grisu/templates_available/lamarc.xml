<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<JobDefinition xmlns="http://schemas.ggf.org/jsdl/2005/11/jsdl">
	
	<JobDescription grisu_modules="MatchMakerPanel">
	
		<GrisuTemplate xmlns="http://arcs.org.au/jsdl/jsdl-grisu">
			<Email description="The email address to send an email to if the job status changes." multiplicity="?" name="EmailAddress" other="useLastValue" template="Email"/>
	</GrisuTemplate>

		<JobIdentification>

			<JobName defaultValue="LAMARC" description="The name of the job." name="Jobname" other="autosuggest,nosuggestbutton" template="JobName"/>

		</JobIdentification>

		<Application>

			<ApplicationName>LAMARC</ApplicationName>
			<ApplicationVersion template="Version" name="Version" title="Version" description="The version of LAMARC" other="useAny,useExact"></ApplicationVersion>
			<Description>
				LAMARC is a program which estimates population-genetic parameters such as population size, population growth rate, recombination rate, and migration rates.  Find more about LAMARC at http://evolution.genetics.washington.edu/lamarc/
			</Description>
			<POSIXApplication xmlns="http://schemas.ggf.org/jsdl/2005/11/jsdl-posix">


				<Executable>lamarc</Executable>

				<Argument substitute="INPUT_FILE[basename]"/>
				<Argument>-b</Argument>

				<WorkingDirectory />
				<!-- 	The name of the standard output file. -->
				<Output>stdout.txt</Output>
				<!--  	The name of the standard error file. -->
				<Error>stderr.txt</Error>
				<!-- 	loads the module needed for a LAMARC job -->

			</POSIXApplication>


			<TotalCPUTime defaultValue="600" description="The total cpu time in seconds." multiplicity="1" name="Walltime" postprocess="TimesNoCPUs" template="InputInteger"/>

			<TotalCPUCount><exact defaultValue="1" description="How many CPUs do you want to use to run this job." multiplicity="1" name="CPUs" other="force=single" template="InputInteger"/></TotalCPUCount>

			<TotalPhysicalMemory> 
				<LowerBoundedRange postprocess="ConvertToBytes" defaultValue="0" description="The minimum amount of memory in mb for this job." multiplicity="1" name="MinMem" prefills="0,1024,2048,4096" template="InputInteger"> </LowerBoundedRange>
			</TotalPhysicalMemory>
			
		</Application>
		<Resources>
			<CandidateHosts>
	
				<HostName name="HostName" template="InputString"/>

			</CandidateHosts>

		</Resources>
		<!--  The following DataStaging element -->
		<DataStaging>
			<FileName/>
			<FileSystemName></FileSystemName>
			<Source>

				<URI description="Please provide your LAMARC XML command file here." multiplicity="1" name="LAMARCInputFile" other="render=combobox,useHistory=6,directoryKey=LAMARC" postprocess="Substitute[name=INPUT_FILE]" template="InputFile" title="LAMARC XML command file" validator="InputFile"/>

			</Source>
		</DataStaging>

	</JobDescription>
</JobDefinition>
