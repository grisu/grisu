<?xml version="1.0" encoding="UTF-8"?>
<JobDefinition xmlns="http://schemas.ggf.org/jsdl/2005/11/jsdl">
	<JobDescription grisu_modules="MatchMakerPanel">
	<GrisuTemplate xmlns="http://arcs.org.au/jsdl/jsdl-grisu">
		<Email 	template="Email" 
					   	name="EmailAddress"
						description="The email address to send an email to if the job status changes."
						multiplicity="?" 
						other="useLastValue" />
	</GrisuTemplate>
		<JobIdentification>
			<JobName template="JobName" name="Jobname" title="Jobname"
				description="The name of the job." defaultValue="diff_job"
				other="autosuggest,nosuggestbutton" />
		</JobIdentification>

		<Application>
			<ApplicationName>generic</ApplicationName>
			<ApplicationVersion template="Version" name="Version" title="Version" description="The version" defaultValue="any_version" other="useDefault"></ApplicationVersion>
			<POSIXApplication
				xmlns="http://schemas.ggf.org/jsdl/2005/11/jsdl-posix">

				<Executable>/usr/bin/diff</Executable>
				<Argument template="MultipleInputString" name="A_Parameters"
				    title="Commandline parameters"
					description="Optional commandline parameters for the diff command."
					multiplicity="?"
					other="render=combobox,useHistory=8" />
				<Argument substitute="INPUT_FILE1[basename]"></Argument>
				<Argument substitute="INPUT_FILE2[basename]"></Argument>
				<WorkingDirectory />
				<Output>stdout.txt</Output>
				<Error>stderr.txt</Error>

			</POSIXApplication>
			<TotalCPUTime template="WallTime" name="Walltime"
				description="The walltime for your job." defaultValue="60"
				postprocess="TimesNoCPUs" /><!-- 60 seconds on, use this value and devide with no. of cpus to get actual walltime -->
			<TotalCPUCount><exact template="CPUs" name="CPUs"
				description="How many CPUs do you want to use to run this job."
				multiplicity="1" other="force=single" /></TotalCPUCount>
			<TotalPhysicalMemory> 
				<LowerBoundedRange postprocess="ConvertToBytes" defaultValue="0" description="The minimum amount of memory in mb for this job." multiplicity="1" name="MinMem" title="MinMem" prefills="0,1024,2048,4096" template="InputInteger"> </LowerBoundedRange>
			</TotalPhysicalMemory>
		</Application>
		<Resources>
			<CandidateHosts>
				<HostName template="InputString" name="HostName" />
			</CandidateHosts>
		</Resources>

		<!-- The first file to stage in. It will be staged in from my homedirectory. For that, Grisu uses a different proxy than the one above. -->
		<DataStaging>
			<FileName />
			<FileSystemName></FileSystemName>
			<Source>
				<URI template="InputFile" name="DiffInputFile"
					title="First input file" description="Provide one input file here."
					multiplicity="1" other="render=combobox,useHistory,lastDirectory"
					postprocess="Substitute[name=INPUT_FILE1]" />
			</Source>
		</DataStaging>

		<!-- The second textfile. It will be staged in form the same directory where the job will be running. -->
		<DataStaging>
			<FileName />
			<FileSystemName></FileSystemName>
			<Source>
				<URI template="InputFile" name="DiffInputFile2"
					title="Second input file"
					description="Provide the second input file here." multiplicity="1"
					other="render=combobox,useHistory,lastDirectory"
					postprocess="Substitute[name=INPUT_FILE2]" />
			</Source>
		</DataStaging>
	</JobDescription>
</JobDefinition>